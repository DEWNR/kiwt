{% extends 'layouts/master.html' %}

{% set hero_title = 'Nature and history' %}
{% set hero_image = 'upload/hero/nature-history.jpg' %}
{% set page_intro_title = 'A journey of abundance' %}
{% set page_intro_text = '<p>With its dense bushland, soaring cliffs, untouched white sandy beaches and pristine rivers and lagoons, the Kangaroo Island Wilderness Trail provides walkers with a front row seat to some of the islandâ€™s most iconic natural and historical attractions.</p>' %}





{% block content %}

    {% include "shared/page-intro.html" %}

    {% include "shared/article-card--grid.html" %}

{% endblock %}





{% block javascript %}
    {{ super() }}
{% endblock %}





{% block local_javascript %}
    <script>

        $(function() {
            bAutoColours = 0;

            if (bAutoColours) {
                // color article-card backgrounds
                $('.article-card__image').each(function() {

                    var colorThief = new ColorThief();
                    var $theImage = $(this).find('img');

                    //Grabs 8 swatch color palette from image and sets quality to 5 (0 =slow, 10=default/fast)
                    var cp = colorThief.getPalette($theImage[0], 10, 5);

                    //Sets background to 3rd color in the palette.
                    $(this).parent().css('background-color', 'rgba('+cp[6][0]+','+cp[6][1]+','+cp[6][2]+', 0.3)');

                });
            }

            function rgbToHsl(r, g, b){
                r /= 255, g /= 255, b /= 255;
                var max = Math.max(r, g, b), min = Math.min(r, g, b);
                var h, s, l = (max + min) / 2;

                if(max == min){
                    h = s = 0; // achromatic
                }else{
                    var d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    switch(max){
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    h /= 6;
                }

                return [h, s, l];
            }
        });

    </script>
{% endblock %}
